<!--pages/joinClass/joinClass.wxml-->
<view class="container" style="  background: url('{{joinBgUrl}}') bottom center no-repeat;">
    <view class="inviter" wx:if="{{invited}}">巫老师邀请您加入1年级2班（慧点小学）</view>
    <view class="tabbar">
        <view class="tab_item {{current === 0? 'tab_active' : ''}}" bindtap="changetab" data-index='{{0}}'>我是老师</view>
        <view class="tab_item {{current === 1? 'tab_active' : ''}}" bindtap="changetab" data-index='{{1}}'>我是学生</view>
        <view class="{{invited ? 'underline_invited' : 'underline'}}" style="left:{{current === 0?  103: 478}}rpx">
        </view>
    </view>

    <!-- 老师视角 -->
    <!-- 表单区域 -->
    <block wx:if="{{!current}}">
        <view class="form">
            <view class="form_item">
                <view class="form_title"><text>您的姓名</text></view>
                <view class="value">
                    <input type="text" placeholder="请输入姓名"></input>

                </view>
            </view>

            <view class="form_item">
                <view class="form_title"><text>任教科目</text></view>
                <view class="value">
                    <picker bindchange="bindPickerChange" value="{{index}}" range="{{array}}" range-key="subject">
                        <input type="text" placeholder="请选择任教科目" value="{{array[index].subject}}" disabled></input>
                    </picker>
                    <mp-icon icon='arrow' size='13'></mp-icon>
                </view>
            </view>
        </view>

        <view class="form">
            <view class="form_item phoneNumber">
                <view class="form_title"><text>电话号码</text></view>
                <view class="value">
                    <input type="number" placeholder="请输入号码"></input>
                    <button class="getNumber" open-type="getPhoneNumber"
                        bindgetphonenumber="getPhoneNumber">使用本机号码</button>
                </view>
            </view>
            <view class="form_item">
                <view class="form_title"><text>验证码</text></view>
                <view class="value">
                    <input type="number" placeholder="4位验证码"></input>
                    <view class="{{invited?'getCode_invited':'getCode'}} {{getCodeDisable?'disable':''}}"
                        bindtap="getCode">{{getCodeValue}}</view>
                </view>
            </view>
        </view>

        <view class="form" wx:if="{{!invited}}">
            <view class="form_item">
                <view class="form_title">
                    <text>班级码</text>
                </view>
                <view class="value">
                    <input type="text" placeholder="请输入班级码"></input>
                    <view class="how">如何获取班级码？</view>
                </view>
            </view>
        </view>
    </block>
    <!-- 学生视角 -->
    <block wx:else>
        <view class="form" wx:if="{{!invited}}">
            <view class="form_item">
                <view class="form_title">
                    <text>班级码</text>
                </view>
                <view class="value">
                    <input type="text" placeholder="请输入班级码"></input>
                    <view class="how">如何获取班级码？</view>
                </view>
            </view>
        </view>
        <view class="form">
            <view class="form_item">
                <view class="form_title"><text>您的姓名</text></view>
                <view class="value">
                    <input type="text" placeholder="请输入姓名"></input>

                </view>
            </view>

            <view class="form_item">
                <view class="form_title"><text>亲属关系</text></view>
                <view class="value">
                    <picker bindchange="bindPickerChange" value="{{index}}" range="{{array}}" range-key="subject">
                        <input type="text" placeholder="请选择" value="{{array[index].subject}}" disabled></input>
                    </picker>
                    <mp-icon icon='arrow' size='13'></mp-icon>
                </view>
            </view>
        </view>

        <view class="form">
            <view class="form_item phoneNumber">
                <view class="form_title"><text>电话号码</text></view>
                <view class="value">
                    <input type="number" placeholder="请输入号码"></input>
                    <button class="getNumber" open-type="getPhoneNumber"
                        bindgetphonenumber="getPhoneNumber">使用本机号码</button>
                </view>
            </view>
            <view class="form_item">
                <view class="form_title"><text>验证码</text></view>
                <view class="value">
                    <input type="number" placeholder="4位验证码"></input>
                    <view class="{{invited?'getCode_invited':'getCode'}}">获取验证码</view>
                </view>
            </view>
        </view>


    </block>
    <view class="{{invited ? 'btn_invited':'btn'}}">加入班级</view>
</view>