<!--pages/homePage/homePage.wxml-->
<view class="container">

    <!-- 自定义navTitle -->
    <view>
        <navBar><text>慧点小学</text></navBar>
    </view>

    <!-- 背景图片 -->
    <image class="bdSunsine" mode="scaleToFill" src="/static/sunsine.svg"></image>

    <inviteDialog isShow="{{showInviteDialog}}" wx:if="{{showInviteDialog}}"></inviteDialog>

    <!-- 主体 -->
    <view class="main">

        <!-- 身份卡片 -->
        <id-card bind:handleTap="invite" bind:handleChange="changeId" showInvite="{{true}}" isTour="{{isTourist}}"
            rname="{{currentUser.rname}}">
        </id-card>

        <!-- menu栏 -->
        <view class="menu">
            <view class="menuItem" wx:for="{{menuList}}" wx:key="id" data-target="{{item.target}}" bindtap="navTo">
                <view class="iconfont {{item.className}}"></view>
                <view class="itemName">{{item.list}}</view>
            </view>
        </view>
        <!-- if班主任 -->
        <!-- 待办 -->
        <view class="toDo" wx:if="{{hasClass}}">
            <view class="tabTop">
                全部待办
            </view>

            <view class="noList" wx:if="{{!toDoList.length}}">
                暂无发布信息,快去发布吧
            </view>
            <block wx:else>
                <view wx:for="{{toDoList}}" wx:key='id' class="to_do_date">
                    <view class="timeLine">{{item.pdate}}</view>
                    <view class="to_do_item" wx:for="{{item.toDo}}" wx:key='id'>
                        <block wx:if="{{item.type == 'work'}}">

                            <view class="left">
                                <image src="{{item.avatar}}" class="avatar"></image>
                            </view>
                            <view class="right">
                                <view class="head">
                                    <view class="pname">{{item.publisher}}</view>
                                    <view class="ptime">{{item.ptime}}</view>
                                    <view class="tag">作业</view>
                                </view>
                                <view class="title">{{item.title}}</view>
                                <view class="value">{{item.value}}</view>
                                <view class="endTime"><text class="desc">截止时间：</text><text>{{item.endTime}}</text>
                                </view>
                            </view>

                        </block>
                        <block wx:if="{{item.type == 'application'}}">
                            <view class="application">
                                <view class="title">
                                    {{item.className}}
                                </view>
                                <view class="status">{{item.status}}</view>
                            </view>
                        </block>
                    </view>
                </view>
            </block>
            <image class="addToDo" mode="scaleToFill" src="/static/icon/add.svg"></image>
        </view>

        <!-- else -->
        <!-- 加入班级 -->
        <view wx:else class="joinClass">
            <view class="msg">您还没有加入班级哦</view>
            <view class="btnJoin">加入班级</view>
        </view>
        <!-- tabBar -->
    </view>
</view>